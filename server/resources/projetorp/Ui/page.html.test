<html lang="en">
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/main.css">
  

  
</head>

<body style="background-color:rgba(0, 0, 0, 0);">
  magicscript v1  

  <div id="rankedit-app">
    <transition name="fade">
      <template v-if="display === true">
        <div class="container container-table container-small">
          <div class="row vertical-center-row">
            <div class="panel panel-default game-box">
              <div class="row masthead"></div>
              <div class="row"  style="margin-left: 5px; margin-right: 5px">
                <div class="panel-body">
                  <h1 style="font-family: HouseScript">Editar Ranks</h1>
                  <div class="alert alert-danger" role="alert" v-if="error.length > 0">
                    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                    <span class="sr-only">Erro:</span>
                    {{ error }}
                  </div>              
                  <draggable :list="ranks" :options="{group:'rank'}" @start="drag=true" @end="drag=false">                          
                    <div v-for="rank in ranks">{{rank.name}} <button type="button">\/</button></div>                    
                  </draggable>   
                  <form v-on:submit.prevent="onSubmit">
                    <button type="submit" class="btn btn-danger btn-striped" v-bind:disabled="blocked" v-bind:class="{ 'btn-processing': blocked }">Atualizar</button>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </template>
    </transition>
  </div>

  <script src="js/vue.js"></script>
  <script src="js/Sortable.js"></script>
  <script src="js/vuedraggable.min.js"></script>
  <!-- <script src="js/inventory.js"></script> -->
  <script type="text/javascript">
    function range(start, end) {
      var foo = [];
      for (var i = start; i <= end; i++) {
        foo.push(i);
      }
      return foo;
    }   

    rankedit_app = new Vue({
        el: '#rankedit-app',
        data: {
            display: true,
            blocked: false,
            error: '',              
            ranks: [ {name: "Rank1", level: 1}, {name: "Rank2", level: 2}, {name: "Rank3", level: 3}, {name: "Rank4", level: 4}, {name: "Rank5", level: 5}
            ]
        },
        methods: {
            onSubmit: function () {
                this.blocked = true;
                resourceCall('triggerEvent', 'CS_EDIT_RANKS_SUBMIT', JSON.stringify(this.ranks));
            },
            cancel: function () {
                this.blocked = true;
                resourceCall('triggerEvent', 'CS_CREATE_PROPERTY_CANCEL');
            }
        }
    });
</script>
</body>
</html>